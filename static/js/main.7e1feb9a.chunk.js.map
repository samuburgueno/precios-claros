{"version":3,"sources":["utils/api.js","scanner/components/scanner-layout.js","scanner/containers/scanner.js","product-search/containers/product-search.js","product-detail/components/product-detail-layout.js","product-detail/containers/product-detail.js","App.js","index.js"],"names":["api","id_producto","fetch","concat","response","data","json","ScannerLayout","props","react_default","a","createElement","className","children","type","onClick","getScreenshot","videoConstraints","process","width","min","height","facingMode","aspectRatio","max","Scanner","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setRef","webcam","state","codigo","bind","assertThisInitialized","dataUri","Quagga","decodeSingle","decoder","readers","locate","src","debug","showCanvas","showPatches","showFoundPatches","showSkeleton","showLabels","showPatchLabels","showRemainingPatchLabels","boxFromPatches","showTransformed","showTransformedBox","showBB","result","codeResult","onSuccess","code","onFail","error","capture","scanImage","components_scanner_layout","react_webcam_default","heigh","audio","ref","screenshotFormat","React","Component","ProductSearch","console","log","Api","getProducto","producto","alert","scanner","ProducDetailLayout","alt","nombre","id","marca","precioMin","precioMax","nuevoEscaneo","ProductDetail","borrarProducto","product_detail_layout","assign","App","setState","product_search","containers_product_detail","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7e1feb9a.chunk.js","sourcesContent":["const base_url = 'https://d3e6htiiul5ek9.cloudfront.net';\nconst token = 'array_sucursales=22-1-6,19-1-03296,12-1-97,10-1-268,22-1-16,19-1-00973,12-1-99,22-1-20,19-1-00812,22-1-3,22-1-24,24-1-292,22-1-18,22-1-17,10-1-32,22-1-1,22-1-31,12-1-95,19-1-00983,12-1-165,10-1-33,22-1-26,10-1-41,9-3-5218,19-1-00989,19-1-00959,22-1-5,22-1-11,12-1-96,16-1-1202';\n\nclass Api {\n\tasync getProducto(id_producto) {\n\t\tconst response = await fetch(`${base_url}/prod/producto?limit=30&id_producto=${id_producto}&${token}`)\n\t\tconst data = response.json()\n\t\treturn data;\n\t}\n}\n\nexport default new Api();","import React from 'react'\n\nimport './scanner-layout.css'\n\nfunction ScannerLayout(props) {\n\treturn(\n\t\t<div className=\"scanner-layout-wrapper text-center\">\n\t\t\t{props.children}\n\t\t\t<div className=\"solapa\">\n\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={props.getScreenshot}>Escanear</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ScannerLayout;","import React from 'react';\nimport Quagga from 'quagga'\nimport Webcam from \"react-webcam\";\n\nimport Layout from '../components/scanner-layout'\n\nvar videoConstraints = {}\nif (process.env === 'development') {\n    videoConstraints = {\n        width: {min: 480},\n        height: {min: 640},\n        facingMode: \"environment\",\n        aspectRatio: {min: 1, max: 2}\n    }\n} else {\n    videoConstraints = {\n        width: 640,\n        height: 480,\n        facingMode: \"environment\",\n    }\n}\n\nclass Scanner extends React.Component {\n    setRef = webcam => {\n        this.webcam = webcam;\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            codigo: false\n        }\n\n        this.getScreenshot = this.getScreenshot.bind(this)\n    }\n\n    scanImage(dataUri) {\n        Quagga.decodeSingle({\n            decoder: {\n                readers: [\"ean_reader\"],\n            },\n            locate: true,\n            src: dataUri,\n            debug: {\n                showCanvas: true,\n                showPatches: true,\n                showFoundPatches: true,\n                showSkeleton: true,\n                showLabels: true,\n                showPatchLabels: true,\n                showRemainingPatchLabels: true,\n                boxFromPatches: {\n                        showTransformed: true,\n                        showTransformedBox: true,\n                        showBB: true\n                    }\n            }\n        }, function(result) {\n            if(result && result.codeResult) {\n                this.props.onSuccess(result.codeResult.code)\n            } else {\n                this.props.onFail({\n                    error: \"NOT_DECODED\"\n                })\n            }\n        }.bind(this));\n    }\n\n    getScreenshot() {\n        const capture = this.webcam.getScreenshot()\n        if (capture) {\n            this.scanImage(capture)\n        } else {\n            this.props.onFail({\n                error: \"NOT_CAPTURED\"\n            })\n        }\n    }\n\n    render() {\n        return (\n            <Layout\n                getScreenshot={this.getScreenshot}\n                >\n                <Webcam\n                    heigh={640}\n                    width={480}\n                    audio={false}\n                    ref={this.setRef}\n                    screenshotFormat=\"image/jpeg\"\n                    videoConstraints={videoConstraints}\n                />\n            </Layout>\n        );\n    }\n}\n\nexport default Scanner;","import React, { Component } from 'react';\n\nimport Api from '../../utils/api';\nimport Scanner from '../../scanner/containers/scanner.js';\n\nclass ProductSearch extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.onSuccess = this.onSuccess.bind(this)\n\t\tthis.onFail = this.onFail.bind(this)\n\t}\n\n\tasync onSuccess(id_producto) {\n\t\tconsole.log(id_producto)\n\t\tconst producto = await Api.getProducto(id_producto)\n\t\tthis.props.producto(producto)\n\t}\n\n\tasync onTest() {\n\t\tconst id_producto = 7793433000629\n\t\tconst producto = await Api.getProducto(id_producto)\n\t\tthis.props.producto(producto)\t\n\t}\n\n\tcomponentDidMount() {\n\t\t// this.onTest()\n\t}\n\n\tonFail(error) {\n\t\talert(error.error)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Scanner \n\t\t\t\tonFail={this.onFail}\n\t\t\t\tonSuccess={this.onSuccess} />\n\t\t);\n\t}\n}\n\nexport default ProductSearch;","import React from 'react';\n\nimport './product-detail.css';\n\nfunction ProducDetailLayout(props) {\n\treturn(\n\t\t<div className=\"product-detail-wrapper\">\n\t\t\t<div className=\"card\">\n\t\t\t\t<img alt={props.producto.nombre} className=\"card-img-top\" src={`https://imagenes.preciosclaros.gob.ar/productos/${props.producto.id}.jpg`} />\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<h5 className=\"card-title\">{props.producto.nombre}</h5>\n\t\t\t\t\t<p className=\"card-text\">{props.producto.marca}</p>\n\t\t\t\t\t<p><small>Precio Minimo</small> <br/>{props.producto.precioMin}</p>\n\t\t\t\t\t<p><small>Precio Máximo</small> <br/>{props.producto.precioMax}</p>\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={props.nuevoEscaneo}>Escanear otro</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ProducDetailLayout;","import React, { Component } from 'react';\nimport Layout from '../components/product-detail-layout'\n\nclass ProductDetail extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.nuevoEscaneo = this.nuevoEscaneo.bind(this)\n\t}\n\n\tnuevoEscaneo() {\n\t\tthis.props.borrarProducto()\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout \n\t\t\t\tnuevoEscaneo={this.nuevoEscaneo}\n\t\t\t\t{...this.props.producto} \n\t\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ProductDetail;","import React, { Component } from 'react';\n\nimport ProductSearch from './product-search/containers/product-search'\nimport ProductDetail from './product-detail/containers/product-detail'\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tproducto: false\n\t\t}\n\n\t\tthis.producto = this.producto.bind(this)\n\t\tthis.borrarProducto = this.borrarProducto.bind(this)\n\t}\n\n\tproducto(producto) {\n\t\tthis.setState({\n\t\t\tproducto\n\t\t});\n\t}\n\n\tborrarProducto() {\n\t\tthis.setState({\n\t\t\tproducto: false\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t{!this.state.producto &&\n\t\t\t\t\t<ProductSearch \n\t\t\t\t\t\tproducto={this.producto} />\n\t\t\t\t}\n\n\t\t\t\t{this.state.producto &&\n\t\t\t\t\t<ProductDetail \n\t\t\t\t\t\tborrarProducto={this.borrarProducto}\n\t\t\t\t\t\tproducto={this.state.producto} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}