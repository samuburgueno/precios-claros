(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(23)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),i=n(2),s=n(3),u=n(6),l=n(5),d=n(4),p=n(7),m=n(8),h=n.n(m),f=n(9),b=new(function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getProducto",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://d3e6htiiul5ek9.cloudfront.net","/prod/producto?limit=30&id_producto=").concat(t,"&").concat("array_sucursales=22-1-6,19-1-03296,12-1-97,10-1-268,22-1-16,19-1-00973,12-1-99,22-1-20,19-1-00812,22-1-3,22-1-24,24-1-292,22-1-18,22-1-17,10-1-32,22-1-1,22-1-31,12-1-95,19-1-00983,12-1-165,10-1-33,22-1-26,10-1-41,9-3-5218,19-1-00989,19-1-00959,22-1-5,22-1-11,12-1-96,16-1-1202"));case 2:return n=e.sent,r=n.json(),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),v=n(1),g=n.n(v),O=(n(20),{state:{inputStream:{type:"LiveStream",constraints:{width:{min:640},height:{min:480},facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:10,decoder:{readers:[{format:"code_128_reader",config:{}}]},locate:!0}}),y={init:function(){var e=this;g.a.init(O,function(t){if(t)return e.handleError(t);g.a.start()})},handleError:function(e){console.log(e)},updateOptionsForMediaRange:function(e,t){console.log("updateOptionsForMediaRange",e,t);for(var n,r,a=(t.max-t.min)/6;e.firstChild;)e.removeChild(e.firstChild);for(var o=0;o<=6;o++)r=t.min+a*o,(n=document.createElement("option")).value=r,n.innerHTML=r,e.appendChild(n)},initCameraSelection:function(){var e=g.a.CameraAccess.getActiveStreamLabel();return g.a.CameraAccess.enumerateVideoDevices().then(function(t){for(var n=document.getElementById("deviceSelection");n.firstChild;)n.removeChild(n.firstChild);t.forEach(function(t){var r,a=document.createElement("option");a.value=t.deviceId||t.id,a.appendChild(document.createTextNode((r=t.label||t.deviceId||t.id).length>30?r.substr(0,30):r)),a.selected=e===t.label,n.appendChild(a)})})},_accessByPath:function(e,t,n){var r=t.split("."),a=r.length,o="undefined"!==typeof n;return r.reduce(function(e,t,r){return o&&r+1===a&&("object"===typeof e[t]&&"object"===typeof n?Object.assign(e[t],n):e[t]=n),t in e?e[t]:{}},e)},_convertNameToState:function(e){return e.replace("_",".").split("-").reduce(function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)})},setState:function(e,t){if("function"===typeof this._accessByPath(this.inputMapper,e)&&(t=this._accessByPath(this.inputMapper,e)(t)),e.startsWith("settings.")){var n=e.substring(9);return this.applySetting(n,t)}this._accessByPath(this.state,e,t),console.log(JSON.stringify(this.state)),y.detachListeners(),g.a.stop(),y.init()},inputMapper:{inputStream:{constraints:function(e){if(/^(\d+)x(\d+)$/.test(e)){var t=e.split("x");return{width:{min:parseInt(t[0])},height:{min:parseInt(t[1])}}}return{deviceId:e}}},numOfWorkers:function(e){return parseInt(e)},decoder:{readers:function(e){return"ean_extended"===e?[{format:"ean_reader",config:{supplements:["ean_5_reader","ean_2_reader"]}}]:[{format:e+"_reader",config:{}}]}}},state:{inputStream:{type:"LiveStream",constraints:{width:{min:640},height:{min:480},facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:10,decoder:{readers:[{format:"code_128_reader",config:{}}]},locate:!0},lastResult:null};g.a.onProcessed(function(e){var t=g.a.canvas.ctx.overlay,n=g.a.canvas.dom.overlay;e&&(e.boxes&&(t.clearRect(0,0,parseInt(n.getAttribute("width")),parseInt(n.getAttribute("height"))),e.boxes.filter(function(t){return t!==e.box}).forEach(function(e){g.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})})),e.box&&g.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&g.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))}),g.a.onDetected(function(e){var t=e.codeResult.code;this.setState({codigo:t})});var E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={codigo:0},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){y.init()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"interactive",className:"viewport"}),a.a.createElement("h1",null,this.state.codigo))}}]),t}(r.Component);n(21);var j=function(e){return a.a.createElement("div",{className:"scanner-layout-wrapper text-center"},e.children)},S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).setRef=function(e){n.webcam=e},n.state={codigo:!1},n.getScreenshot=n.getScreenshot.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"scanImage",value:function(e){E.decodeSingle({decoder:{readers:["ean_reader"]},locate:!0,src:e},function(e){e&&e.codeResult?this.props.onSuccess(e.codeResult.code):this.props.onFail({error:"NOT_DECODED"})}.bind(this))}},{key:"getScreenshot",value:function(){this.webcam.getScreenshot()?this.scanImage(this.webcam.getScreenshot()):this.props.onFail({error:"NOT_CAPTURED"})}},{key:"render",value:function(){return a.a.createElement(j,null,a.a.createElement(E,null))}}]),t}(a.a.Component),x=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onSuccess=n.onSuccess.bind(Object(d.a)(n)),n.onFail=n.onFail.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onSuccess",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,b.getProducto(t);case 3:n=e.sent,this.props.producto(n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onTest",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 7793433000629,e.next=3,b.getProducto(7793433000629);case 3:t=e.sent,this.props.producto(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"onFail",value:function(e){alert(e.code)}},{key:"render",value:function(){return a.a.createElement(S,{onFail:this.onFail,onSuccess:this.onSuccess})}}]),t}(r.Component);n(22);var k=function(e){return a.a.createElement("div",{className:"product-detail-wrapper"},a.a.createElement("div",{className:"card"},a.a.createElement("img",{alt:e.producto.nombre,className:"card-img-top",src:"https://imagenes.preciosclaros.gob.ar/productos/".concat(e.producto.id,".jpg")}),a.a.createElement("div",{className:"card-body"},a.a.createElement("h5",{className:"card-title"},e.producto.nombre),a.a.createElement("p",{className:"card-text"},e.producto.marca),a.a.createElement("p",null,a.a.createElement("small",null,"Precio Minimo")," ",a.a.createElement("br",null),e.producto.precioMin),a.a.createElement("p",null,a.a.createElement("small",null,"Precio M\xe1ximo")," ",a.a.createElement("br",null),e.producto.precioMax),a.a.createElement("button",{className:"btn btn-primary",onClick:e.nuevoEscaneo},"Escanear otro"))))},w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).nuevoEscaneo=n.nuevoEscaneo.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"nuevoEscaneo",value:function(){this.props.borrarProducto()}},{key:"render",value:function(){return a.a.createElement(k,Object.assign({nuevoEscaneo:this.nuevoEscaneo},this.props.producto))}}]),t}(r.Component),_=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={producto:!1},n.producto=n.producto.bind(Object(d.a)(n)),n.borrarProducto=n.borrarProducto.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"producto",value:function(e){this.setState({producto:e})}},{key:"borrarProducto",value:function(){this.setState({producto:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},!this.state.producto&&a.a.createElement(x,{producto:this.producto}),this.state.producto&&a.a.createElement(w,{borrarProducto:this.borrarProducto,producto:this.state.producto}))}}]),t}(r.Component);c.a.render(a.a.createElement(_,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.7e439da8.chunk.js.map